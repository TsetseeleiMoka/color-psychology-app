# -*- coding: utf-8 -*-
"""app.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1ckgQteGRMiAtWre4zlegiq5IC2ICl91E
"""

import streamlit as st
import pandas as pd
import plotly.graph_objs as go

st.set_page_config(page_title="üé® Colour Psychology Explorer", layout="centered")

# --- Load data ---
@st.cache_data
def load_data():
    return pd.read_csv("color_psychology_data.csv")

df = load_data()

# --- Colour name mapping ---
hex_to_name = {
    '#FF0000': 'Red', '#FFA500': 'Orange', '#FF00FF': 'Magenta', '#000000': 'Black',
    '#4B0082': 'Indigo', '#800080': 'Purple', '#FFD700': 'Gold', '#FFC0CB': 'Pink',
    '#A52A2A': 'Brown', '#0000FF': 'Blue', '#C0C0C0': 'Silver', '#FFFF00': 'Yellow',
    '#008000': 'Green', '#40E0D0': 'Turquoise', '#FFFFFF': 'White', '#808080': 'Grey'
}

available_colours = list(hex_to_name.keys())

# --- Title ---
st.title("üé® Colour Psychology Explorer")
st.write("Explore emotional associations of colours and visualise their psychological impact.")

st.markdown("---")

# --- Section: About ---
with st.expander("‚ÑπÔ∏è About This Explorer", expanded=False):
    st.write(
        """
        This tool helps you explore how different colours are psychologically and emotionally perceived.
        Select a colour to discover its top associated emotions in word clouds representing these associations.
        Even better...a recommendations section based on the selected colour to apply in real-world circumstances!
        """
    )

st.markdown("---")


st.subheader("üé® Pick a Colour")
selected_colour = st.radio(
    "Pick a Colour",
    options=available_colours,
    format_func=lambda x: hex_to_name.get(x, x),
    index=available_colours.index(st.session_state.get("selected_colour", available_colours[0]))
)
st.session_state.selected_colour = selected_colour

st.markdown("---")

# --- Section: Word Cloud ---
import os

with st.expander("‚òÅÔ∏è Emotional Word Cloud", expanded=True):
    st.write("Visual representation of emotional words associated with the selected colour.")
    colour_name = hex_to_name[selected_colour].lower()
    filename = f"wordclouds/{colour_name}.png"

    if os.path.exists(filename):
        st.image(filename, caption=f"Word cloud for {hex_to_name[selected_colour]}")
    else:
        st.write("Word cloud image not found for this colour.")

# --- Section: Recommendations ---
with st.expander("üí° Recommendations Based on Selected Colour", expanded=True):
    st.write(f"Recommendations for **{hex_to_name[selected_colour]}**:")

    # Define your recommendations dictionary by colour and category
    recommendations = {
    'red': {
        'fashion': "Red is bold and energizing ‚Äî perfect for statement pieces and accessories that demand attention.",
        'interior_design': "Use red as an accent to create warmth and passion in living spaces like dining rooms or lounges.",
        'data_analysis': "In data visuals, red signals urgency or decline ‚Äî use it to highlight critical metrics or warnings.",
        'branding': "Red evokes excitement and urgency; ideal for brands wanting to convey passion or speed."
    },
    'orange': {
        'fashion': "Orange conveys creativity and vitality ‚Äî great for casual wear and sporty outfits.",
        'interior_design': "Incorporate orange in kitchens or playrooms to stimulate energy and social interaction.",
        'data_analysis': "Orange works well for drawing attention without the intensity of red; useful for moderate alerts.",
        'branding': "Orange suggests friendliness and enthusiasm; it‚Äôs inviting and fun for youthful brands."
    },
    'magenta': {
        'fashion': "Magenta is vibrant and unconventional ‚Äî ideal for bold fashion statements and creative expression.",
        'interior_design': "Use magenta sparingly in modern spaces to inject energy and uniqueness.",
        'data_analysis': "Magenta can highlight creative or exploratory data points, standing out without harshness.",
        'branding': "Magenta symbolizes innovation and originality ‚Äî good for brands in tech or arts."
    },
    'black': {
        'fashion': "Black is timeless and sophisticated ‚Äî perfect for formal wear and versatile styling.",
        'interior_design': "Use black for contrast and elegance, especially in minimalist or industrial designs.",
        'data_analysis': "Black is neutral; use it for text and baseline elements to maintain clarity.",
        'branding': "Black denotes luxury and authority; great for premium or high-end brands."
    },
    'indigo': {
        'fashion': "Indigo is deep and mysterious ‚Äî perfect for refined, elegant outfits.",
        'interior_design': "Indigo adds depth to bedrooms and study areas, fostering calm and focus.",
        'data_analysis': "Indigo is calming and trustworthy; suitable for stable trend indicators.",
        'branding': "Indigo evokes wisdom and integrity; ideal for educational or corporate brands."
    },
    'purple': {
        'fashion': "Purple signifies royalty and creativity ‚Äî great for statement pieces and artistic looks.",
        'interior_design': "Use purple in bedrooms or creative spaces to inspire luxury and imagination.",
        'data_analysis': "Purple highlights special categories or creative data clusters effectively.",
        'branding': "Purple conveys luxury and uniqueness; perfect for boutique or niche brands."
    },
    'gold': {
        'fashion': "Gold adds glamour and prestige ‚Äî ideal for accessories and evening wear.",
        'interior_design': "Incorporate gold accents to elevate luxury in living or dining rooms.",
        'data_analysis': "Gold can highlight top performance or premium categories in data.",
        'branding': "Gold reflects success and quality; suitable for premium, prestigious brands."
    },
    'pink': {
        'fashion': "Pink is playful and gentle ‚Äî perfect for casual and youthful styles.",
        'interior_design': "Use pink in nurseries or relaxing spaces to create warmth and comfort.",
        'data_analysis': "Pink draws attention softly; good for secondary highlights or positive trends.",
        'branding': "Pink communicates approachability and care; ideal for health or beauty brands."
    },
    'brown': {
        'fashion': "Brown is earthy and reliable ‚Äî great for casual wear and natural textures.",
        'interior_design': "Use brown to add warmth and groundedness, especially with wood accents.",
        'data_analysis': "Brown is neutral and stable; good for background elements and natural data themes.",
        'branding': "Brown evokes dependability and wholesomeness; suitable for organic or artisanal brands."
    },
    'blue': {
        'fashion': "Blue is calming and trustworthy ‚Äî perfect for business and casual wear.",
        'interior_design': "Use blue to create serene environments in bedrooms and offices.",
        'data_analysis': "Blue represents stability and confidence; excellent for key data points.",
        'branding': "Blue conveys professionalism and trust; widely used in corporate branding."
    },
    'silver': {
        'fashion': "Silver is sleek and modern ‚Äî ideal for accessories and futuristic styles.",
        'interior_design': "Incorporate silver for a high-tech, clean look in kitchens and bathrooms.",
        'data_analysis': "Silver is neutral yet refined; good for highlighting secondary metrics.",
        'branding': "Silver symbolizes sophistication and innovation; great for tech brands."
    },
    'yellow': {
        'fashion': "Yellow is cheerful and energetic ‚Äî great for summer wear and youthful fashion.",
        'interior_design': "Use yellow to brighten rooms and stimulate creativity, especially in workspaces.",
        'data_analysis': "Yellow grabs attention gently; good for warnings or positive alerts.",
        'branding': "Yellow represents optimism and friendliness; ideal for playful or creative brands."
    },
    'green': {
        'fashion': "Green is natural and refreshing ‚Äî perfect for eco-friendly and casual styles.",
        'interior_design': "Use green to bring calm and vitality, especially in living rooms and kitchens.",
        'data_analysis': "Green indicates growth and positive outcomes; ideal for performance metrics.",
        'branding': "Green communicates sustainability and health; excellent for organic brands."
    },
    'turquoise': {
        'fashion': "Turquoise is vibrant and soothing ‚Äî great for summer fashion and beachwear.",
        'interior_design': "Use turquoise to evoke calm and clarity in bathrooms or creative spaces.",
        'data_analysis': "Turquoise highlights innovation and fresh ideas in datasets.",
        'branding': "Turquoise conveys clarity and creativity; suitable for wellness or tech brands."
    },
    'white': {
        'fashion': "White is clean and versatile ‚Äî perfect for minimalist and summer styles.",
        'interior_design': "Use white to create spaciousness and simplicity in any room.",
        'data_analysis': "White is neutral; use as background for clear data presentation.",
        'branding': "White symbolizes purity and simplicity; ideal for modern, clean brand identities."
    },
    'grey': {
        'fashion': "Grey is sophisticated and neutral ‚Äî perfect for professional and casual wear.",
        'interior_design': "Use grey as a calming base or accent in modern interiors.",
        'data_analysis': "Grey works well for neutral data or secondary information.",
        'branding': "Grey suggests balance and professionalism; ideal for conservative brands."
    }
}

    # Get the colour name in lowercase (to match your dict keys)
    colour_key = hex_to_name[selected_colour].lower()

    if colour_key in recommendations:
        recs = recommendations[colour_key]
        st.markdown(f"### Fashion\n{recs.get('fashion', 'No recommendation available.')}")
        st.markdown(f"### Interior Design\n{recs.get('interior_design', 'No recommendation available.')}")
        st.markdown(f"### Data Analysis\n{recs.get('data_analysis', 'No recommendation available.')}")
        st.markdown(f"### Branding\n{recs.get('branding', 'No recommendation available.')}")
    else:
        st.write("No recommendations available for this colour yet.")

st.markdown("---")

# --- Section: Raw Data ---
with st.expander("üßæ Show Raw Dataset"):
    st.markdown("Preview the raw dataset used for this dashboard.")
    st.dataframe(df)


# --- Section: Top 5 Most Common Colours ---
with st.expander("üîç Top 5 Most Common Colours in Dataset", expanded=False):
    st.write("These are the top 5 colours that appear most frequently in the dataset.")

    colour_counts = df['hex'].value_counts().head(5)
    named_labels = [hex_to_name.get(hex_code, hex_code) for hex_code in colour_counts.index]

    fig_pie = go.Figure(data=[go.Pie(
        labels=named_labels,
        values=colour_counts.values,
        marker=dict(colors=colour_counts.index),
        hoverinfo='label+percent',
        textinfo='label+value'
    )])

    st.plotly_chart(fig_pie, use_container_width=True)
    st.markdown("Hover over the chart segments to see percentages.")

st.markdown("---")

# --- Footer ---
st.markdown("---")
st.caption("Made with üíô by Moka")