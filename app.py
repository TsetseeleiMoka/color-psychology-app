# -*- coding: utf-8 -*-
"""app.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1LObEPL3P1uGzy6c5HoIzMUX6okxKbfKZ
"""

import streamlit as st
import pandas as pd
from PIL import Image
import os

st.set_page_config(page_title="Color Psychology App", layout="wide")

# Load your dataframe - replace with your actual data loading method
@st.cache_data
def load_data():
    df = pd.read_csv("color_psychology_data.csv")  # Your CSV file path here
    return df

df = load_data()

# List of colours in your dataframe
colors = df['color'].unique()
colors = sorted(colors)  # alphabetically

# Map colours to hex for swatches (add more if needed)
color_hex_map = {
    'red': '#FF0000',
    'orange': '#FFA500',
    'magenta': '#FF00FF',
    'black': '#000000',
    'indigo': '#4B0082',
    'purple': '#800080',
    'gold': '#FFD700',
    'pink': '#FFC0CB',
    'brown': '#A52A2A',
    'blue': '#0000FF',
    'silver': '#C0C0C0',
    'yellow': '#FFFF00',
    'green': '#008000',
    'turquoise': '#40E0D0',
    'white': '#FFFFFF',
    'grey': '#808080'
}

st.title("ðŸŽ¨ Color Psychology Insights")

# Sidebar colour picker (selectbox from your colours)
selected_color = st.sidebar.selectbox("Select a colour", options=colors)

# Show wordcloud image for selected colour
wordcloud_path = f"wordclouds/{selected_color}.png"
if os.path.exists(wordcloud_path):
    st.subheader(f"Emotion Wordcloud for {selected_color.capitalize()}")
    image = Image.open(wordcloud_path)
    st.image(image, use_column_width=True)
else:
    st.warning("Wordcloud image not found for this colour.")

# Show related emotions from dataframe
st.subheader(f"Emotions associated with {selected_color.capitalize()}")
emotions = df[df['color'] == selected_color][['emotion_text', 'sentiment', 'tone']].drop_duplicates()
st.dataframe(emotions.reset_index(drop=True))

st.markdown("---")
st.header("